<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.31.1" />
  <meta name="author" content="Sheng Luan">
  <meta name="description" content="Professor of YSFRI ">

  
  <link rel="alternate" hreflang="en-us" href="/post/using-other-system-chinese-fonts-in-r/">

  
  


  

  
  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  

  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="非淡泊无以明志，非宁静无以致远。">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title="非淡泊无以明志，非宁静无以致远。">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/using-other-system-chinese-fonts-in-r/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="非淡泊无以明志，非宁静无以致远。">
  <meta property="og:url" content="/post/using-other-system-chinese-fonts-in-r/">
  <meta property="og:title" content="在R中使用windows系统自带的中文字体 | 非淡泊无以明志，非宁静无以致远。">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2017-12-31T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-12-31T00:00:00&#43;00:00">
  

  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<script async type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

  <title>在R中使用windows系统自带的中文字体 | 非淡泊无以明志，非宁静无以致远。</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">非淡泊无以明志，非宁静无以致远。</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        

        
          
        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">在R中使用windows系统自带的中文字体</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2017-12-31 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Dec 31, 2017
    </time>
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="/categories/r">R</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=%e5%9c%a8R%e4%b8%ad%e4%bd%bf%e7%94%a8windows%e7%b3%bb%e7%bb%9f%e8%87%aa%e5%b8%a6%e7%9a%84%e4%b8%ad%e6%96%87%e5%ad%97%e4%bd%93&amp;url=%2fpost%2fusing-other-system-chinese-fonts-in-r%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2fusing-other-system-chinese-fonts-in-r%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2fusing-other-system-chinese-fonts-in-r%2f&amp;title=%e5%9c%a8R%e4%b8%ad%e4%bd%bf%e7%94%a8windows%e7%b3%bb%e7%bb%9f%e8%87%aa%e5%b8%a6%e7%9a%84%e4%b8%ad%e6%96%87%e5%ad%97%e4%bd%93"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2fusing-other-system-chinese-fonts-in-r%2f&amp;title=%e5%9c%a8R%e4%b8%ad%e4%bd%bf%e7%94%a8windows%e7%b3%bb%e7%bb%9f%e8%87%aa%e5%b8%a6%e7%9a%84%e4%b8%ad%e6%96%87%e5%ad%97%e4%bd%93"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=%e5%9c%a8R%e4%b8%ad%e4%bd%bf%e7%94%a8windows%e7%b3%bb%e7%bb%9f%e8%87%aa%e5%b8%a6%e7%9a%84%e4%b8%ad%e6%96%87%e5%ad%97%e4%bd%93&amp;body=%2fpost%2fusing-other-system-chinese-fonts-in-r%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        <p>R作图时，如何在图片中使用windows系统自带的其他中文字体？以前尝试过好几次，都没有成功。</p>
<p>首先安装二个包：</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/sysfonts/index.html">sysfonts</a></li>
<li><a href="https://cran.r-project.org/web/packages/showtext/index.html">showtext</a></li>
</ul>
<p>R中自带的默认字体家族，可以通过sysfonts::font.families()函数查看：</p>
<pre class="r"><code>require(sysfonts)</code></pre>
<pre><code>## 载入需要的程辑包：sysfonts</code></pre>
<pre class="r"><code>require(showtext)</code></pre>
<pre><code>## 载入需要的程辑包：showtext</code></pre>
<pre><code>## 载入需要的程辑包：showtextdb</code></pre>
<pre class="r"><code>font_families()</code></pre>
<pre><code>## [1] &quot;sans&quot;         &quot;serif&quot;        &quot;mono&quot;         &quot;wqy-microhei&quot;</code></pre>
<p>R中自带的三种标准字体家族为：<a href="https://baike.baidu.com/item/衬线字体/6820704?fr=aladdin">serif</a>（衬线）、<a href="https://baike.baidu.com/item/无衬线体/2374029">sans</a>（无衬线）和<a href="https://baike.baidu.com/item/等宽字体/8434037?fr=aladdin">mono</a>（等宽）三类。</p>
<p>如果想使用Windows系统中自带的中文字体，首先查看系统中字体存储路径：</p>
<pre class="r"><code>font_paths()</code></pre>
<pre><code>## [1] &quot;C:\\Windows\\Fonts&quot;</code></pre>
<p>进一步查看有哪些可以利用的字体文件：</p>
<pre class="r"><code>font_files()</code></pre>
<pre><code>##   [1] &quot;AGENCYB.TTF&quot;             &quot;AGENCYR.TTF&quot;            
##   [3] &quot;ALGER.TTF&quot;               &quot;ANTQUAB.TTF&quot;            
##   [5] &quot;ANTQUABI.TTF&quot;            &quot;ANTQUAI.TTF&quot;            
##   [7] &quot;arial.ttf&quot;               &quot;arialbd.ttf&quot;            
##   [9] &quot;arialbi.ttf&quot;             &quot;ariali.ttf&quot;             
##  [11] &quot;ARIALN.TTF&quot;              &quot;ARIALNB.TTF&quot;            
##  [13] &quot;ARIALNBI.TTF&quot;            &quot;ARIALNI.TTF&quot;            
##  [15] &quot;ARIALUNI.TTF&quot;            &quot;ariblk.ttf&quot;             
##  [17] &quot;ARLRDBD.TTF&quot;             &quot;bahnschrift.ttf&quot;        
##  [19] &quot;BASKVILL.TTF&quot;            &quot;BAUHS93.TTF&quot;            
##  [21] &quot;BELL.TTF&quot;                &quot;BELLB.TTF&quot;              
##  [23] &quot;BELLI.TTF&quot;               &quot;BERNHC.TTF&quot;             
##  [25] &quot;BKANT.TTF&quot;               &quot;BOD_B.TTF&quot;              
##  [27] &quot;BOD_BI.TTF&quot;              &quot;BOD_BLAI.TTF&quot;           
##  [29] &quot;BOD_BLAR.TTF&quot;            &quot;BOD_CB.TTF&quot;             
##  [31] &quot;BOD_CBI.TTF&quot;             &quot;BOD_CI.TTF&quot;             
##  [33] &quot;BOD_CR.TTF&quot;              &quot;BOD_I.TTF&quot;              
##  [35] &quot;BOD_PSTC.TTF&quot;            &quot;BOD_R.TTF&quot;              
##  [37] &quot;BOOKOS.TTF&quot;              &quot;BOOKOSB.TTF&quot;            
##  [39] &quot;BOOKOSBI.TTF&quot;            &quot;BOOKOSI.TTF&quot;            
##  [41] &quot;BRADHITC.TTF&quot;            &quot;BRITANIC.TTF&quot;           
##  [43] &quot;BRLNSB.TTF&quot;              &quot;BRLNSDB.TTF&quot;            
##  [45] &quot;BRLNSR.TTF&quot;              &quot;BROADW.TTF&quot;             
##  [47] &quot;BRUSHSCI.TTF&quot;            &quot;BSSYM7.TTF&quot;             
##  [49] &quot;calibri.ttf&quot;             &quot;calibrib.ttf&quot;           
##  [51] &quot;calibrii.ttf&quot;            &quot;calibril.ttf&quot;           
##  [53] &quot;calibrili.ttf&quot;           &quot;calibriz.ttf&quot;           
##  [55] &quot;CALIFB.TTF&quot;              &quot;CALIFI.TTF&quot;             
##  [57] &quot;CALIFR.TTF&quot;              &quot;CALIST.TTF&quot;             
##  [59] &quot;CALISTB.TTF&quot;             &quot;CALISTBI.TTF&quot;           
##  [61] &quot;CALISTI.TTF&quot;             &quot;cambria.ttc&quot;            
##  [63] &quot;cambriab.ttf&quot;            &quot;cambriai.ttf&quot;           
##  [65] &quot;cambriaz.ttf&quot;            &quot;Candara.ttf&quot;            
##  [67] &quot;Candarab.ttf&quot;            &quot;Candarai.ttf&quot;           
##  [69] &quot;Candaraz.ttf&quot;            &quot;CASTELAR.TTF&quot;           
##  [71] &quot;CENSCBK.TTF&quot;             &quot;CENTAUR.TTF&quot;            
##  [73] &quot;CENTURY.TTF&quot;             &quot;CHILLER.TTF&quot;            
##  [75] &quot;COLONNA.TTF&quot;             &quot;comic.ttf&quot;              
##  [77] &quot;comicbd.ttf&quot;             &quot;comici.ttf&quot;             
##  [79] &quot;comicz.ttf&quot;              &quot;consola.ttf&quot;            
##  [81] &quot;consolab.ttf&quot;            &quot;consolai.ttf&quot;           
##  [83] &quot;consolaz.ttf&quot;            &quot;constan.ttf&quot;            
##  [85] &quot;constanb.ttf&quot;            &quot;constani.ttf&quot;           
##  [87] &quot;constanz.ttf&quot;            &quot;COOPBL.TTF&quot;             
##  [89] &quot;COPRGTB.TTF&quot;             &quot;COPRGTL.TTF&quot;            
##  [91] &quot;corbel.ttf&quot;              &quot;corbelb.ttf&quot;            
##  [93] &quot;corbeli.ttf&quot;             &quot;corbelz.ttf&quot;            
##  [95] &quot;cour.ttf&quot;                &quot;courbd.ttf&quot;             
##  [97] &quot;courbi.ttf&quot;              &quot;couri.ttf&quot;              
##  [99] &quot;CURLZ___.TTF&quot;            &quot;Deng.ttf&quot;               
## [101] &quot;Dengb.ttf&quot;               &quot;Dengl.ttf&quot;              
## [103] &quot;ebrima.ttf&quot;              &quot;ebrimabd.ttf&quot;           
## [105] &quot;ELEPHNT.TTF&quot;             &quot;ELEPHNTI.TTF&quot;           
## [107] &quot;ENGR.TTF&quot;                &quot;ERASBD.TTF&quot;             
## [109] &quot;ERASDEMI.TTF&quot;            &quot;ERASLGHT.TTF&quot;           
## [111] &quot;ERASMD.TTF&quot;              &quot;euclid.ttf&quot;             
## [113] &quot;euclidb.ttf&quot;             &quot;euclidbi.ttf&quot;           
## [115] &quot;euclidi.ttf&quot;             &quot;eucsym.ttf&quot;             
## [117] &quot;eucsymb.ttf&quot;             &quot;eucsymbi.ttf&quot;           
## [119] &quot;eucsymi.ttf&quot;             &quot;euextra.ttf&quot;            
## [121] &quot;euextrab.ttf&quot;            &quot;eufrak.ttf&quot;             
## [123] &quot;eufrakb.ttf&quot;             &quot;eumat1.ttf&quot;             
## [125] &quot;eumat1b.ttf&quot;             &quot;eumat2.ttf&quot;             
## [127] &quot;eumat2b.ttf&quot;             &quot;FELIXTI.TTF&quot;            
## [129] &quot;fences.ttf&quot;              &quot;FORTE.TTF&quot;              
## [131] &quot;FRABK.TTF&quot;               &quot;FRABKIT.TTF&quot;            
## [133] &quot;FRADM.TTF&quot;               &quot;FRADMCN.TTF&quot;            
## [135] &quot;FRADMIT.TTF&quot;             &quot;FRAHV.TTF&quot;              
## [137] &quot;FRAHVIT.TTF&quot;             &quot;framd.ttf&quot;              
## [139] &quot;FRAMDCN.TTF&quot;             &quot;framdit.ttf&quot;            
## [141] &quot;FREESCPT.TTF&quot;            &quot;FRSCRIPT.TTF&quot;           
## [143] &quot;FTLTLT.TTF&quot;              &quot;FZLTCXHJW.TTF&quot;          
## [145] &quot;FZSTK.TTF&quot;               &quot;FZYTK.TTF&quot;              
## [147] &quot;Gabriola.ttf&quot;            &quot;gadugi.ttf&quot;             
## [149] &quot;gadugib.ttf&quot;             &quot;GARA.TTF&quot;               
## [151] &quot;GARABD.TTF&quot;              &quot;GARAIT.TTF&quot;             
## [153] &quot;georgia.ttf&quot;             &quot;georgiab.ttf&quot;           
## [155] &quot;georgiai.ttf&quot;            &quot;georgiaz.ttf&quot;           
## [157] &quot;GIGI.TTF&quot;                &quot;GIL_____.TTF&quot;           
## [159] &quot;GILB____.TTF&quot;            &quot;GILBI___.TTF&quot;           
## [161] &quot;GILC____.TTF&quot;            &quot;GILI____.TTF&quot;           
## [163] &quot;GILLUBCD.TTF&quot;            &quot;GILSANUB.TTF&quot;           
## [165] &quot;GLECB.TTF&quot;               &quot;GLSNECB.TTF&quot;            
## [167] &quot;GOTHIC.TTF&quot;              &quot;GOTHICB.TTF&quot;            
## [169] &quot;GOTHICBI.TTF&quot;            &quot;GOTHICI.TTF&quot;            
## [171] &quot;GOUDOS.TTF&quot;              &quot;GOUDOSB.TTF&quot;            
## [173] &quot;GOUDOSI.TTF&quot;             &quot;GOUDYSTO.TTF&quot;           
## [175] &quot;HARLOWSI.TTF&quot;            &quot;HARNGTON.TTF&quot;           
## [177] &quot;HATTEN.TTF&quot;              &quot;himalaya.ttf&quot;           
## [179] &quot;holomdl2.ttf&quot;            &quot;HTOWERT.TTF&quot;            
## [181] &quot;HTOWERTI.TTF&quot;            &quot;impact.ttf&quot;             
## [183] &quot;IMPRISHA.TTF&quot;            &quot;INFROMAN.TTF&quot;           
## [185] &quot;ITCBLKAD.TTF&quot;            &quot;ITCEDSCR.TTF&quot;           
## [187] &quot;ITCKRIST.TTF&quot;            &quot;javatext.ttf&quot;           
## [189] &quot;JOKERMAN.TTF&quot;            &quot;JUICE___.TTF&quot;           
## [191] &quot;KUNSTLER.TTF&quot;            &quot;l_10646.ttf&quot;            
## [193] &quot;LATINWD.TTF&quot;             &quot;LBRITE.TTF&quot;             
## [195] &quot;LBRITED.TTF&quot;             &quot;LBRITEDI.TTF&quot;           
## [197] &quot;LBRITEI.TTF&quot;             &quot;LCALLIG.TTF&quot;            
## [199] &quot;LeelaUIb.ttf&quot;            &quot;LeelawUI.ttf&quot;           
## [201] &quot;LeelUIsl.ttf&quot;            &quot;LFAX.TTF&quot;               
## [203] &quot;LFAXD.TTF&quot;               &quot;LFAXDI.TTF&quot;             
## [205] &quot;LFAXI.TTF&quot;               &quot;LHANDW.TTF&quot;             
## [207] &quot;LSANS.TTF&quot;               &quot;LSANSD.TTF&quot;             
## [209] &quot;LSANSDI.TTF&quot;             &quot;LSANSI.TTF&quot;             
## [211] &quot;LTYPE.TTF&quot;               &quot;LTYPEB.TTF&quot;             
## [213] &quot;LTYPEBO.TTF&quot;             &quot;LTYPEO.TTF&quot;             
## [215] &quot;lucon.ttf&quot;               &quot;MAGNETOB.TTF&quot;           
## [217] &quot;MAIAN.TTF&quot;               &quot;malgun.ttf&quot;             
## [219] &quot;malgunbd.ttf&quot;            &quot;malgunsl.ttf&quot;           
## [221] &quot;marlett.ttf&quot;             &quot;MATURASC.TTF&quot;           
## [223] &quot;micross.ttf&quot;             &quot;mingliub.ttc&quot;           
## [225] &quot;MISTRAL.TTF&quot;             &quot;mmrtext.ttf&quot;            
## [227] &quot;mmrtextb.ttf&quot;            &quot;MOD20.TTF&quot;              
## [229] &quot;monbaiti.ttf&quot;            &quot;msgothic.ttc&quot;           
## [231] &quot;msjh.ttc&quot;                &quot;msjhbd.ttc&quot;             
## [233] &quot;msjhl.ttc&quot;               &quot;msyh.ttc&quot;               
## [235] &quot;msyhbd.ttc&quot;              &quot;msyhl.ttc&quot;              
## [237] &quot;msyi.ttf&quot;                &quot;Mt Extra Tiger.ttf&quot;     
## [239] &quot;MTCORSVA.TTF&quot;            &quot;mtextra.ttf&quot;            
## [241] &quot;mvboli.ttf&quot;              &quot;NIAGENG.TTF&quot;            
## [243] &quot;NIAGSOL.TTF&quot;             &quot;Nirmala.ttf&quot;            
## [245] &quot;NirmalaB.ttf&quot;            &quot;NirmalaS.ttf&quot;           
## [247] &quot;ntailu.ttf&quot;              &quot;ntailub.ttf&quot;            
## [249] &quot;OCRAEXT.TTF&quot;             &quot;OLDENGL.TTF&quot;            
## [251] &quot;ONYX.TTF&quot;                &quot;OUTLOOK.TTF&quot;            
## [253] &quot;pala.ttf&quot;                &quot;palab.ttf&quot;              
## [255] &quot;palabi.ttf&quot;              &quot;palai.ttf&quot;              
## [257] &quot;PALSCRI.TTF&quot;             &quot;PAPYRUS.TTF&quot;            
## [259] &quot;PARCHM.TTF&quot;              &quot;PER_____.TTF&quot;           
## [261] &quot;PERB____.TTF&quot;            &quot;PERBI___.TTF&quot;           
## [263] &quot;PERI____.TTF&quot;            &quot;PERTIBD.TTF&quot;            
## [265] &quot;PERTILI.TTF&quot;             &quot;phagspa.ttf&quot;            
## [267] &quot;phagspab.ttf&quot;            &quot;PLAYBILL.TTF&quot;           
## [269] &quot;POORICH.TTF&quot;             &quot;PRISTINA.TTF&quot;           
## [271] &quot;RAGE.TTF&quot;                &quot;RAVIE.TTF&quot;              
## [273] &quot;REFSAN.TTF&quot;              &quot;REFSPCL.TTF&quot;            
## [275] &quot;ROCC____.TTF&quot;            &quot;ROCCB___.TTF&quot;           
## [277] &quot;ROCK.TTF&quot;                &quot;ROCKB.TTF&quot;              
## [279] &quot;ROCKBI.TTF&quot;              &quot;ROCKEB.TTF&quot;             
## [281] &quot;ROCKI.TTF&quot;               &quot;SCHLBKB.TTF&quot;            
## [283] &quot;SCHLBKBI.TTF&quot;            &quot;SCHLBKI.TTF&quot;            
## [285] &quot;SCRIPTBL.TTF&quot;            &quot;segmdl2.ttf&quot;            
## [287] &quot;segoepr.ttf&quot;             &quot;segoeprb.ttf&quot;           
## [289] &quot;segoesc.ttf&quot;             &quot;segoescb.ttf&quot;           
## [291] &quot;segoeui.ttf&quot;             &quot;segoeuib.ttf&quot;           
## [293] &quot;segoeuii.ttf&quot;            &quot;segoeuil.ttf&quot;           
## [295] &quot;segoeuisl.ttf&quot;           &quot;segoeuiz.ttf&quot;           
## [297] &quot;seguibl.ttf&quot;             &quot;seguibli.ttf&quot;           
## [299] &quot;seguiemj.ttf&quot;            &quot;seguihis.ttf&quot;           
## [301] &quot;seguili.ttf&quot;             &quot;seguisb.ttf&quot;            
## [303] &quot;seguisbi.ttf&quot;            &quot;seguisli.ttf&quot;           
## [305] &quot;seguisym.ttf&quot;            &quot;SHOWG.TTF&quot;              
## [307] &quot;simfang.ttf&quot;             &quot;simhei.ttf&quot;             
## [309] &quot;simkai.ttf&quot;              &quot;SIMLI.TTF&quot;              
## [311] &quot;simsun.ttc&quot;              &quot;simsunb.ttf&quot;            
## [313] &quot;SIMYOU.TTF&quot;              &quot;Sitka.ttc&quot;              
## [315] &quot;SitkaB.ttc&quot;              &quot;SitkaI.ttc&quot;             
## [317] &quot;SitkaZ.ttc&quot;              &quot;SNAP____.TTF&quot;           
## [319] &quot;STCAIYUN.TTF&quot;            &quot;STENCIL.TTF&quot;            
## [321] &quot;STFANGSO.TTF&quot;            &quot;STHUPO.TTF&quot;             
## [323] &quot;STKAITI.TTF&quot;             &quot;STLITI.TTF&quot;             
## [325] &quot;STSONG.TTF&quot;              &quot;STXIHEI.TTF&quot;            
## [327] &quot;STXINGKA.TTF&quot;            &quot;STXINWEI.TTF&quot;           
## [329] &quot;STZHONGS.TTF&quot;            &quot;sylfaen.ttf&quot;            
## [331] &quot;Symbol Tiger Expert.ttf&quot; &quot;Symbol Tiger.ttf&quot;       
## [333] &quot;symbol.ttf&quot;              &quot;tahoma.ttf&quot;             
## [335] &quot;tahomabd.ttf&quot;            &quot;taile.ttf&quot;              
## [337] &quot;taileb.ttf&quot;              &quot;TCB_____.TTF&quot;           
## [339] &quot;TCBI____.TTF&quot;            &quot;TCCB____.TTF&quot;           
## [341] &quot;TCCEB.TTF&quot;               &quot;TCCM____.TTF&quot;           
## [343] &quot;TCM_____.TTF&quot;            &quot;TCMI____.TTF&quot;           
## [345] &quot;TEMPSITC.TTF&quot;            &quot;Tiger Expert.ttf&quot;       
## [347] &quot;Tiger.ttf&quot;               &quot;Times-Roman.ttf&quot;        
## [349] &quot;times.ttf&quot;               &quot;timesbd.ttf&quot;            
## [351] &quot;timesbi.ttf&quot;             &quot;timesi.ttf&quot;             
## [353] &quot;trebuc.ttf&quot;              &quot;trebucbd.ttf&quot;           
## [355] &quot;trebucbi.ttf&quot;            &quot;trebucit.ttf&quot;           
## [357] &quot;verdana.ttf&quot;             &quot;verdanab.ttf&quot;           
## [359] &quot;verdanai.ttf&quot;            &quot;verdanaz.ttf&quot;           
## [361] &quot;VINERITC.TTF&quot;            &quot;VIVALDII.TTF&quot;           
## [363] &quot;VLADIMIR.TTF&quot;            &quot;webdings.ttf&quot;           
## [365] &quot;wingding.ttf&quot;            &quot;WINGDNG2.TTF&quot;           
## [367] &quot;WINGDNG3.TTF&quot;            &quot;YuGothB.ttc&quot;            
## [369] &quot;YuGothL.ttc&quot;             &quot;YuGothM.ttc&quot;            
## [371] &quot;YuGothR.ttc&quot;             &quot;ZWAdobeF.TTF&quot;</code></pre>
<p>其中宋体文件是simsun.ttc，黑体文件是：simhei.ttf，楷体文件是simkai.ttf，微软雅黑是msyh.ttf和msyhbd.ttf。</p>
<p>尝试在R环境中加入黑体（如果字体是在Windows系统的默认字体库中，regular可以不用指定路径）：</p>
<pre class="r"><code>font_add(family = &quot;heiti&quot;,regular = &quot;simhei.ttf&quot;)
font_add(family = &quot;kaiti&quot;,regular = &quot;simkai.ttf&quot;)</code></pre>
<p>此时查看R中自带字体，你会发现多了“heiti”和“kaiti”。</p>
<pre class="r"><code>font.families()</code></pre>
<pre><code>## &#39;font.families()&#39; is now renamed to &#39;font_families()&#39;
## The old version still works, but consider using the new function in future code</code></pre>
<pre><code>## [1] &quot;sans&quot;         &quot;serif&quot;        &quot;mono&quot;         &quot;wqy-microhei&quot;
## [5] &quot;heiti&quot;        &quot;kaiti&quot;</code></pre>
<p>然后我们在画图中使用黑体，借用showtext包作者邱逸轩的这篇文章<a href="https://cosx.org/2014/01/showtext-interesting-fonts-and-graphs">showtext：字体，好玩的字体和好玩的图形</a>中的r示例代码：</p>
<p>需要注意，<strong>rstudio自带的Plots面板中绘出的图形不显示自定义字体</strong>，这也是以前总是觉得设置自定义字体不成功的原因。在运行下面的代码前，调用windows()函数打开一个新的图形接收窗口，下边代码绘制的图形会显示其中。</p>
<p>如果你打算在Rmd文档中使用showtext包，请在chunk头参数中设置fig.showtext=TRUE。</p>
<pre class="r"><code>showtext_auto() #这样代码非常重要
set.seed(123)
plot(1, xlim = c(-3, 3), ylim = c(-3, 3), type = &quot;n&quot;)
text(runif(100, -3, 3), runif(100, -3, 3),
     intToUtf8(round(runif(100, 19968, 40869)), multiple = TRUE),
     col = rgb(runif(100), runif(100), runif(100), 0.5 + runif(100)/2),
     cex = 2, family = &quot;heiti&quot;)   # 指定heiti字体
title(&quot;随机汉字&quot;, family = &quot;kaiti&quot;)   # 指定kaiti字体</code></pre>
<p><img src="/post/2017-12-31-using-other-system-chinese-fonts-in-r_files/figure-html/fontexample-1.png" width="672" /></p>
<p>试一下ggplot2作图。</p>
<pre class="r"><code>require(ggplot2)</code></pre>
<pre><code>## 载入需要的程辑包：ggplot2</code></pre>
<pre class="r"><code>xy &lt;- data.frame(x=rnorm(100),y=rnorm(100))
showtext_auto()
scatter.plot &lt;- ggplot(data = xy,aes(x=x,y=y))+
  geom_point(shape=21)+
  labs(x=&quot;均值为0，标准差为1的随机正态分布&quot;,y=&quot;均值为0，标准差为1的随机正态分布&quot;)+
  theme_grey(base_size = 30,base_family = &quot;heiti&quot;)
print(scatter.plot)</code></pre>
<div class="figure" style="text-align: center"><span id="fig:ggplot2example"></span>
<img src="/post/2017-12-31-using-other-system-chinese-fonts-in-r_files/figure-html/ggplot2example-1.png" alt="基于0,1正态分布的散点图" width="576" />
<p class="caption">
Figure 1: 基于0,1正态分布的散点图
</p>
</div>
<p>Ok!大功告成！</p>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/font">font</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/showtext">showtext</a>
  
</div>



    </div>
  </div>

</article>






<div class="article-container">
  

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Sheng Luan &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    
    

  </body>
</html>

